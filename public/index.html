<html>
    <head>
        <link rel="icon" type="image/x-icon" href="images/favicon.ico">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
        <link rel="stylesheet" href="styles.css">
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        
        <script type="text/javascript">
            var apiURL = "https://yi0qcyt4xg.execute-api.us-east-1.amazonaws.com/dev/search/";
            var searchAPI = function(data) {
                // Connect to API
                $.ajax({
                    type: 'get',
                    url: apiURL + data,
                    success: function(data) {
                        if ($.isEmptyObject(data)) {
                            printNoMatches();
                        } else {
                            $('#data').html('<h1>' + data.name + '</h1> <img src='+data.imagePath+ ' />');
                            clearMessage();
                        }
                    }
                });
            };

            var printNoMatches = function() {
                $('#message').html('No matches. Please try again!');
            }

            var clearMessage = function() {
                $('#message').html('');
            }

            var showLoading = function() {
                $("#loading").show();
            }

            var hideLoading = function() {
                $("#loading").hide();
            }
            
            $(document).ready(function(){
                $('#search').on('keyup paste',function(){
                    if(this.value.length >= 3){
                        searchAPI(this.value);
                    }
                });
            });
            </script>

    </head>
    <body>
        <h1>FaasCats</h1>
        <h2>A serverless API demonstration using famous cats</h2>
        
        <div id="_search">
            <div id="input">
                <input type="text" id="search">
                <div id="message">
                    Start typing to search. (Example: tigger)
                </div>
            </div>
            <div id="loading">
                Loading...
            </div>
    
            
        </div>
        

        <div id="data">
            <pre>
                    \`*-.                    
                    )  _`-.                 
                    .  : `. .                
                    : _   '  \               
                    ; *` _.   `*-._          
                    `-.-'          `-.       
                        ;       `       `.     
                        :.       .        \    
                        . \  .   :   .-'   .   
                        '  `+.;  ;  '      :   
                        :  '  |    ;       ;-. 
                        ; '   : :`-:     _.`* ;
                    .*' /  .*' ; .*`- +'  `*' 
                    `*-*   `*-*  `*-*'        
                </pre>
        </div>
    </body>
</html>


